<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Checkout</title>
  <link rel="stylesheet" href="css/main.css" />
  <link rel="stylesheet" href="css/student.css" />
</head>
<body>
  <header class="navbar">
    <div class="brand">PAYFEES</div>
    <nav class="nav-links">
      <a href="student-dashboard.html">‚Üê Back to Dashboard</a>
    </nav>
  </header>

  <main class="dashboard-content">
    <h2>üõí Checkout</h2>

    <div id="cartContainer"></div>

    <div style="margin-top: 20px;">
      <h3>Total: <span id="cartTotal">‚Ç±0</span></h3>
      <button onclick="submitOrder()" class="pay-btn">Place Order</button>
    </div>
  </main>

  <script>
    // Display cart
    function loadCart() {
      const cart = JSON.parse(localStorage.getItem("merchCart")) || [];
      const container = document.getElementById("cartContainer");
      const totalEl = document.getElementById("cartTotal");
      container.innerHTML = "";

      let total = 0;
      if (cart.length === 0) {
        container.innerHTML = "<p>Your cart is empty.</p>";
        totalEl.textContent = "‚Ç±0";
        return;
      }

      const table = document.createElement("table");
      table.className = "fee-table";
      table.innerHTML = `
        <thead>
          <tr>
            <th>Item</th>
            <th>Price</th>
          </tr>
        </thead>
        <tbody>
          ${cart.map(item => {
            total += item.price;
            return `<tr><td>${item.name}</td><td>‚Ç±${item.price.toLocaleString()}</td></tr>`;
          }).join("")}
        </tbody>
      `;

      {
        addEventListener
      }
      container.appendChild(table);
      totalEl.textContent = `‚Ç±${total.toLocaleString()}`;
    }

    function submitOrder() {
      alert("‚úÖ Order placed successfully!");
      localStorage.removeItem("merchCart");
      loadCart();
    }

    window.onload = loadCart;
  </script>
</body>
</html>
